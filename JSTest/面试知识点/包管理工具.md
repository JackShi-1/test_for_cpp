npm、pnpm和yarn都是JavaScript项目中常用的包管理工具，它们有以下区别：

### 1. 依赖安装方式与速度
- **npm**：npm早期版本采用嵌套安装方式，会在`node_modules`中按照依赖关系层层嵌套安装包，容易导致依赖树庞大、安装速度慢。虽然后续版本有所优化，但仍不如pnpm和yarn。例如安装一个依赖众多的项目，npm可能需较长时间解析和下载。
- **pnpm**：采用硬链接和符号链接方式，将所有依赖包存储在全局统一位置，`node_modules`通过链接引用。这种方式大大减少磁盘占用，安装速度快。如安装一个大型项目，pnpm能快速利用已有的全局依赖，避免重复下载。
- **yarn**：采用扁平结构安装依赖，把所有依赖尽可能安装到`node_modules`根目录，避免深层嵌套，提升安装速度。同时，yarn支持并行安装和缓存，安装速度比npm快。比如安装多个依赖包，yarn能并行下载，缩短整体安装时间。

### 2. 依赖管理与锁定文件
- **npm**：使用`package - lock.json`文件锁定依赖包版本，确保团队成员安装的依赖版本一致。npm 5.0.0 之后自动生成该文件。
- **pnpm**：使用`pnpm - lock.yaml`文件锁定依赖，它不仅记录依赖版本，还记录依赖间关系等更多信息，锁定机制更严格，保障项目依赖环境高度一致。
- **yarn**：使用`yarn.lock`文件锁定依赖，与`package - lock.json`类似，但格式不同。yarn在处理依赖更新时，能更好地保持锁定文件一致性。

### 3. 命令使用与功能特性
- **npm**：npm是Node.js官方默认包管理工具，命令简单直接，如`npm install`安装依赖、`npm run`执行脚本。npm还支持发布包到npm仓库等功能。
- **pnpm**：pnpm命令与npm相似，有`pnpm install`、`pnpm run`等。它有独特的工作区功能，适合管理多包项目。例如在一个包含多个子项目的monorepo中，pnpm可方便管理各子项目依赖和脚本执行。
- **yarn**：yarn命令与npm类似，有`yarn add`添加依赖、`yarn start`执行脚本等。yarn支持`workspaces`管理多包项目，还提供`yarn link`方便本地开发包调试，`yarn audit`检测依赖漏洞等功能。

### 4. 社区支持与生态
- **npm**：由于是官方默认工具，拥有最广泛社区支持和生态系统，任何新包几乎都能在npm仓库找到。
- **pnpm**：社区发展迅速，虽不如npm广泛，但在追求高效依赖管理和磁盘空间优化开发者中受欢迎，很多新工具和库开始支持pnpm。
- **yarn**：由Facebook等公司发起，有庞大社区和良好生态，很多大型开源项目使用yarn管理依赖，在企业级开发中应用广泛。 