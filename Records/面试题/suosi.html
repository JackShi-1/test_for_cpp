<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Number Triangle</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
        }
        .controls {
            margin-bottom: 20px;
        }
        .triangle-container {
            font-family: monospace;
            line-height: 1.5;
        }
        .row {
            display: flex;
        }
        .cell {
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 1px solid #ddd;
            margin: 1px;
            background-color: #f9f9f9;
        }
    </style>
</head>
<body>
    <h1>Number Triangle Generator</h1>
    <div class="controls">
        <label for="n-input">Enter n:</label>
        <input type="number" id="n-input" value="5" min="1">
        <button onclick="generateTriangle()">Generate</button>
    </div>
    <div id="output" class="triangle-container"></div>

    <script>
        function generateTriangle() {
            const n = parseInt(document.getElementById('n-input').value);
            const container = document.getElementById('output');
            container.innerHTML = '';

            if (isNaN(n) || n < 1) {
                container.textContent = 'Please enter a valid number greater than 0.';
                return;
            }

            // Initialize grid
            const grid = [];
            for (let i = 0; i < n; i++) {
                grid[i] = new Array(i + 1).fill(0);
            }

            let x = 0, y = 0;
            let currentNum = 1;
            const maxNum = n * (n + 1) / 2;
            
            // Directions: Down, Right, Up-Left
            // 0: Down (1, 0)
            // 1: Right (0, 1)
            // 2: Up-Left (-1, -1)
            let dir = 0; 
            const dx = [1, 0, -1];
            const dy = [0, 1, -1];

            while (currentNum <= maxNum) {
                grid[x][y] = currentNum;
                currentNum++;

                // Try moving in current direction
                let nextX = x + dx[dir];
                let nextY = y + dy[dir];

                // Check validity
                // Conditions:
                // 1. Within row bounds (0 <= nextX < n)
                // 2. Within col bounds (0 <= nextY <= nextX) -> Triangle shape
                // 3. Not visited (grid[nextX][nextY] === 0)
                
                let valid = false;
                if (nextX >= 0 && nextX < n && nextY >= 0 && nextY <= nextX) {
                    if (grid[nextX][nextY] === 0) {
                        valid = true;
                    }
                }

                if (!valid) {
                    // Change direction
                    dir = (dir + 1) % 3;
                    nextX = x + dx[dir];
                    nextY = y + dy[dir];
                }

                x = nextX;
                y = nextY;
            }

            // Render
            for (let i = 0; i < n; i++) {
                const rowDiv = document.createElement('div');
                rowDiv.className = 'row';
                for (let j = 0; j <= i; j++) {
                    const cellDiv = document.createElement('div');
                    cellDiv.className = 'cell';
                    cellDiv.textContent = grid[i][j];
                    rowDiv.appendChild(cellDiv);
                }
                container.appendChild(rowDiv);
            }
        }

        // Generate on load
        generateTriangle();
    </script>
</body>
</html>
